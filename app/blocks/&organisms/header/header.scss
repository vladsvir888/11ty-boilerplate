.header {
  $this: &;

  position: sticky;
  top: 0;
  z-index: 100;
  border-bottom: rem(1) solid var(--pallette-mercury);
  background-color: var(--pallette-white);

  &.burger-menu-open {
    #{$this}__burger-icon {
      &--close {
        display: block;
      }

      &--menu {
        display: none;
      }
    }
  }

  &.search-box-open {
    .search-box {
      opacity: 1;
      visibility: visible;
    }

    &::after {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: var(--pallette-white);
      content: '';
    }
  }

  &.search-box-dropdown-show {
    .search-box-dropdown {
      opacity: 1;
      visibility: visible;
    }

    .overlay {
      opacity: 1;
      visibility: visible;
    }
  }

  &__container {
    @include flex-center-between;
    position: relative;
    column-gap: rem(5);
    min-height: var(--header-size);

    @include media('1200', max) {
      justify-content: unset;
      column-gap: rem(20);
    }
  }

  &__logo {
    margin-right: rem(25);

    @include media('1600', max) {
      margin-right: 0;
    }

    @include media('1200', max) {
      order: 1;
    }

    @include media('600', max) {
      .logo__img {
        width: rem(90);
        height: rem(24);
      }
    }
  }

  &__nav {
    @include media('1200', max) {
      display: none;
    }
  }

  &__list {
    display: flex;
  }

  &__item {
    &:hover {
      .menu {
        opacity: 1;
        visibility: visible;
      }

      #{$this}__btn {
        &::before {
          opacity: 1;
        }
      }
    }

    &:focus-within {
      .menu {
        opacity: 1;
        visibility: visible;
      }

      #{$this}__btn {
        &::before {
          opacity: 1;
        }
      }
    }
  }

  &__btn {
    position: relative;
    display: block;
    padding: rem(26) rem(16);

    @include media('1400', max) {
      padding: rem(26) rem(12);
    }

    &:focus-visible {
      outline: none;
    }

    &::before {
      position: absolute;
      bottom: rem(20);
      left: 50%;
      transform: translateX(-50%);
      width: rem(20);
      height: rem(1);
      background-color: var(--pallette-international-orange);
      opacity: 0;
      transition: opacity var(--transition300ms);
      content: '';
    }
  }

  &__phone {
    @include font-size(20, 30);
    font-weight: 700;
    color: var(--pallette-biscay);

    @include media('1600', max) {
      display: none;
    }
  }

  &__meta {
    display: grid;
    grid-auto-flow: column;
    column-gap: rem(32);

    @include media('1400', max) {
      column-gap: rem(20);
    }

    @include media('1200', max) {
      margin-left: auto;
      order: 3;
    }

    &-btn {
      display: flex;
      color: var(--pallette-biscay);

      &--basket {
        position: relative;

        .btn__text {
          @include font-size(10, 14);
          @include flex-center;
          position: absolute;
          top: rem(-5);
          right: rem(-5);
          min-width: rem(16);
          height: rem(16);
          padding: rem(2);
          background-color: var(--pallette-international-orange);
          border-radius: 50%;
          color: var(--pallette-white);

          @include media('1400', max) {
            min-width: rem(14);
            height: rem(14);
            font-size: rem(8);
          }
        }
      }
    }

    &-icon {
      width: rem(25);
      height: rem(25);
      fill: currentColor;

      @include media('1400', max) {
        width: rem(20);
        height: rem(20);
      }
    }
  }

  &__search-box {
    width: calc(100% - (var(--container-padding) * 2));
  }

  &__meta-wrap {
    position: relative;
    cursor: pointer;

    @media (hover: hover) {
      &:hover {
        #{$this}__dropdown {
          opacity: 1;
          visibility: visible;
        }
      }

      &:focus-within {
        #{$this}__dropdown {
          opacity: 1;
          visibility: visible;
        }

        #{$this}__meta-btn {
          color: var(--pallette-international-orange);
          outline: none;
        }
      }
    }
  }

  &__dropdown {
    position: absolute;
    right: 0;
    top: rem(35);
    width: rem(310);
    padding: rem(16);
    background-color: var(--pallette-white);
    border-radius: var(--bdrs10);
    border: rem(1) solid var(--pallette-athens-gray-2);
    opacity: 0;
    visibility: hidden;
    cursor: default;
    transition: all var(--transition300ms);

    &-title {
      @include font-size(14, 21);
      width: calc(100% + #{rem(32)});
      margin-left: rem(-16);
      font-weight: 600;
      padding: 0 rem(16) rem(16);
      margin-bottom: rem(16);
      border-bottom: rem(1) solid var(--pallette-athens-gray-2);
    }

    &-text {
      @include font-size(12, 18);
      margin-bottom: rem(16);
    }

    &-btn {
      @include font-size(14, 21);
      width: 100%;
      padding: rem(14);
    }

    &-link {
      @include font-size(14, 21);
      @include flex-center-y;
      column-gap: rem(6);

      &--exit {
        color: var(--pallette-thunderbird);
      }

      &:not(:last-child) {
        margin-bottom: rem(11);
      }
    }

    &-icon {
      width: rem(16);
      height: rem(16);
      fill: currentColor;
    }

    &::before {
      position: absolute;
      top: rem(-15);
      left: 0;
      width: 100%;
      height: rem(16);
      background-color: transparent;
      content: '';
    }
  }

  &__overlay {
    top: var(--header-size);
  }

  &__burger {
    @include flex-center-y;
    column-gap: rem(12);
    font-weight: 700;
    color: var(--pallette-biscay);

    @include media('1200', max) {
      order: 0;
    }

    &-icon {
      width: rem(25);
      height: rem(25);

      &--close {
        display: none;
        fill: currentColor;
      }
    }

    .btn__text {
      @include media('1400', max) {
        display: none;
      }
    }
  }
}
